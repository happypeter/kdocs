--- classRpmEngine.h	2009-05-15 17:43:56.000000000 +0800
+++ right.h	2009-05-15 17:04:11.000000000 +0800
@@ -138,7 +138,21 @@
 		}		
 		else if( strArch1 == strArch2)
 		{
+			
+/////////peter
+			if((headerInfo1.strEpoch)<(headerInfo2.strEpoch))
+                        {
+                                nCompare=1;
+                        }
+                        else  if((headerInfo1.strEpoch)>(headerInfo2.strEpoch))
+                        {
+                                nCompare=-1;
+                        }
+                        else
+                        {
+////////peter
 			nCompare = CompareVerRel2(strVer2, strRel2, strVer1, strRel1);
+			}
 			if (nCompare > 0 )
 			{
 				nResult = true;
